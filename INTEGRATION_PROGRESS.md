# –ü—Ä–æ–≥—Ä–µ—Å—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∫–ª–∞—Å—Å–æ–≤

## ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

### –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Renderer
- ‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –∫–ª–∞—Å—Å `Renderer` –∏–∑ `core/Renderer.ts`
- ‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –∫–ª–∞—Å—Å `GameState` –∏–∑ `core/GameState.ts`
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Three.js –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞ `Renderer`
- ‚úÖ –£–¥–∞–ª–µ–Ω –¥—É–±–ª–∏—Ä—É—é—â–∏–π –∫–æ–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (window resize handler)
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∫–æ–Ω—Ñ–ª–∏–∫—Ç –∏–º–µ–Ω (gameRenderer vs renderer)
- ‚úÖ –ü—Ä–æ–µ–∫—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ main.ts:**
- –°—Ç—Ä–æ–∫–∏ 64-73: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞ Renderer –≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- –°—Ç—Ä–æ–∫–∞ 1914: –£–¥–∞–ª–µ–Ω –¥—É–±–ª–∏—Ä—É—é—â–∏–π window resize handler

### 1. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è GameState
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `gameState`
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `isPaused` –Ω–∞ `gameState.getPaused()` / `gameState.setPaused()`
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `isGameStarted` –Ω–∞ `gameState.getGameStarted()` / `gameState.setGameStarted()`
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `previousMenu` –Ω–∞ `gameState.getPreviousMenu()` / `gameState.setPreviousMenu()`
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Player —Å–∏—Å—Ç–µ–º
- ‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –∫–ª–∞—Å—Å—ã `PlayerPhysics`, `PlayerHealth`, `PlayerCombat`
- ‚úÖ `PlayerPhysics`: –ó–∞–º–µ–Ω–µ–Ω—ã –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è, —Ñ—É–Ω–∫—Ü–∏—è `checkCollision`, –∏ –ª–æ–≥–∏–∫–∞ –¥–≤–∏–∂–µ–Ω–∏—è –≤ `animate`
- ‚úÖ `PlayerHealth`: –ó–∞–º–µ–Ω–µ–Ω—ã –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–¥–æ—Ä–æ–≤—å—è, —Ñ—É–Ω–∫—Ü–∏–∏ `takeDamage`, `respawn`, `updateHealthUI`
- ‚úÖ `PlayerCombat`: –ó–∞–º–µ–Ω–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `performAttack` –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Block —Å–∏—Å—Ç–µ–º
- ‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –∫–ª–∞—Å—Å—ã `BlockCursor`, `BlockBreaking`, `BlockInteraction`
- ‚úÖ `BlockCursor`: –ó–∞–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫—É—Ä—Å–æ—Ä–∞ (cursorMesh)
- ‚úÖ `BlockBreaking`: –ó–∞–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Ä–∞–∑—Ä—É—à–µ–Ω–∏—è –±–ª–æ–∫–æ–≤ (`startBreaking`, `updateBreaking`) –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç—É—Ä—ã —Ç—Ä–µ—â–∏–Ω
- ‚úÖ `BlockInteraction`: –ó–∞–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±–ª–æ–∫–∞–º–∏ (`performInteract`)

### 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Inventory
- ‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –∫–ª–∞—Å—Å—ã `Inventory`, `DragDrop`, `InventoryUI`
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã `src/inventory/DragDrop.ts` –∏ `src/inventory/InventoryUI.ts`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `src/ToolTextures.ts` –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ `TOOL_TEXTURES` –∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ `main.ts`:
  - –ó–∞–º–µ–Ω–µ–Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `inventorySlots` –Ω–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä `Inventory`
  - –ó–∞–º–µ–Ω–µ–Ω—ã UI —Ñ—É–Ω–∫—Ü–∏–∏ (`initInventoryUI`, `refreshInventoryUI`, `handleSlotClick`) –Ω–∞ –º–µ—Ç–æ–¥—ã `InventoryUI`
  - –ó–∞–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ Drag & Drop –Ω–∞ –∫–ª–∞—Å—Å `DragDrop`
  - –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –∫—Ä–∞—Ñ—Ç–∏–Ω–≥–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–æ–≤—ã–º –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ–º

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### 5. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Game –∫–ª–∞—Å—Å–∞
- ‚úÖ –ö–ª–∞—Å—Å `Game` –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –º–µ—Ç–æ–¥—ã `start`, `stop`, `resetTime` –∏ `update` (–∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª) –≤ `src/core/Game.ts`
- ‚úÖ `main.ts`:
  - –°–æ–∑–¥–∞–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä `Game` —Å –ø–µ—Ä–µ–¥–∞—á–µ–π –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
  - –£–¥–∞–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `animate` –∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–π —Ü–∏–∫–ª requestAnimationFrame
  - –£–¥–∞–ª–µ–Ω—ã –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ `updateBreaking`, `startBreaking` –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `isAttackPressed`
  - –û–±–Ω–æ–≤–ª–µ–Ω—ã Event Listeners –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤ `game`
  - –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã —á–µ—Ä–µ–∑ `game.start()`

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### 6. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ö—Ä–∞—Ñ—Ç–∏–Ω–≥–∞
- ‚úÖ –°–æ–∑–¥–∞–Ω –∫–ª–∞—Å—Å `CraftingSystem` (`src/crafting/CraftingSystem.ts`) –¥–ª—è –ª–æ–≥–∏–∫–∏ –∫—Ä–∞—Ñ—Ç–∞
- ‚úÖ –°–æ–∑–¥–∞–Ω –∫–ª–∞—Å—Å `CraftingUI` (`src/crafting/CraftingUI.ts`) –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∫—Ä–∞—Ñ—Ç–∞ (Grid + Mobile List)
- ‚úÖ `Game.ts` –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ craftingSystem –∏ craftingUI
- ‚úÖ `main.ts`:
  - –£–¥–∞–ª–µ–Ω —Å—Ç–∞—Ä—ã–π –∫–æ–¥ –∫—Ä–∞—Ñ—Ç–∏–Ω–≥–∞
  - –ò–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω—ã –Ω–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã
  - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª –∏ UI —Å–æ–±—ã—Ç–∏—è

### 7. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ú–æ–±–∏–ª—å–Ω—ã—Ö –∫–æ–Ω—Ç—Ä–æ–ª–ª–æ–≤
- ‚úÖ –°–æ–∑–¥–∞–Ω –∫–ª–∞—Å—Å `MobileControls` (`src/mobile/MobileControls.ts`)
- ‚úÖ –ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –¥–∂–æ–π—Å—Ç–∏–∫–∞ –∏ –∫–Ω–æ–ø–æ–∫
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–º–µ—Ä–æ–π —á–µ—Ä–µ–∑ Touch
- ‚úÖ `Game.ts` –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ mobileControls
- ‚úÖ `main.ts` –æ—á–∏—â–µ–Ω –æ—Ç —Å—Ç–∞—Ä–æ–≥–æ –∫–æ–¥–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –∫–æ–Ω—Ç—Ä–æ–ª–ª–æ–≤, –¥–æ–±–∞–≤–ª–µ–Ω—ã Event Listeners –¥–ª—è UI —Å–æ–±—ã—Ç–∏–π

### 8. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ú–µ–Ω—é –∏ UI
- ‚úÖ –°–æ–∑–¥–∞–Ω –∫–ª–∞—Å—Å `CLI` (`src/ui/CLI.ts`) –¥–ª—è –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω –∫–ª–∞—Å—Å `Menus` (`src/ui/Menus.ts`) –¥–ª—è –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é, –ø–∞—É–∑—ã –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- ‚úÖ `Game.ts` –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ CLI –∏ Menus
- ‚úÖ `main.ts` –æ—á–∏—â–µ–Ω –æ—Ç –ª–æ–≥–∏–∫–∏ –º–µ–Ω—é –∏ CLI

### 9. –§–∏–Ω–∞–ª—å–Ω–∞—è –∑–∞—á–∏—Å—Ç–∫–∞ main.ts
- ‚è∏Ô∏è –ü–µ—Ä–µ–Ω–æ—Å –æ—Å—Ç–∞–≤—à–µ–π—Å—è –ª–æ–≥–∏–∫–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ `Game` –∏–ª–∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã
- ‚è∏Ô∏è –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∏–º–ø–æ—Ä—Ç–æ–≤

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ö–æ–Ω—Ñ–ª–∏–∫—Ç –∏–º–µ–Ω:** –†–µ—à–µ–Ω –∫–æ–Ω—Ñ–ª–∏–∫—Ç –º–µ–∂–¥—É –∫–ª–∞—Å—Å–æ–º `Renderer` –∏ Three.js `WebGLRenderer` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `gameRenderer` –¥–ª—è –∫–ª–∞—Å—Å–∞ –∏ `renderer` –¥–ª—è Three.js –æ–±—ä–µ–∫—Ç–∞.

2. **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ, —á—Ç–æ–±—ã –Ω–µ —Å–ª–æ–º–∞—Ç—å —Ä–∞–±–æ—Ç–∞—é—â–∏–π –∫–æ–¥. –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ –Ω—É–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å.

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

- **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ –∫–ª–∞—Å—Å–æ–≤:** 8 (Renderer, GameState, PlayerPhysics, PlayerHealth, PlayerCombat, BlockCursor, BlockBreaking, BlockInteraction)
- **–°–æ–∑–¥–∞–Ω–æ –∫–ª–∞—Å—Å–æ–≤:** 16
- **–û—Å—Ç–∞–ª–æ—Å—å –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å:** 8
- **–ò–∑–º–µ–Ω–µ–Ω–æ —Å—Ç—Ä–æ–∫ –≤ main.ts:** ~700+
- **–û—Å—Ç–∞–ª–æ—Å—å –∏–∑–º–µ–Ω–∏—Ç—å:** ~1000+ (–∑–∞–º–µ–Ω–∞ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö)